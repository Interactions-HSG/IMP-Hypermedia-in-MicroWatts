<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link th:href="@{/css/w3.css}" rel="stylesheet" type="text/css">
    <script src="https://unpkg.com/htmx.org@2.0.3" integrity="sha384-0895/pl2MU10Hqc6jd4RvrthNlDiE9U1tWmX7WRESftEDRosgxNsQG/Ze9YMRzHq" crossorigin="anonymous"></script>


</head>
<body>

    <header class="w3-container w3-card">
        <h1 th:text="${location}"></h1>
    </header>

    <div class="w3-container">
        <hr>
        <div class="w3-cell-row w3-hide w3-show" id="workspaces">

            <div class="" id="workspaces-links">
                <h3>Workspaces:</h3>
                <ul>
                    <li th:each="workspace : ${workspaces}">
                        <button class="w3-button"
                                th:text="${workspace.key}"
                                onclick="toggle(['workspaces','artifacts'])"
                                hx-get="/artifacts"
                                hx-trigger="click"
                                hx-target="#artifacts-linkstest"
                                hx-swap="innerHTML"
                        ></button>
                    </li>

                </ul>
            </div>

            <div class="" id="workspaces-buttons">
                <button hx-get="/"
                        hx-trigger="click"
                        hx-target="#artifacts-links"
                        hx-swap="innerHTML"
                >Get Sensor Data</button>
            </div>

        </div>

        <div class="w3-cell-row w3-hide" id="artifacts">

            <div class="" id="artifacts-links">
                <p>Links</p>
            </div>

            <div class="" id="artifacts-linkstest">
                <p>Links</p>
            </div>

            <div class="" id="artifacts-buttons">
                <p>Artifacts</p>
            </div>

        </div>

        <div class="w3-cell-row w3-hide" id="agents">

            <div class="" id="agents-links">
                <p>Links</p>
            </div>

            <div class="" id="agents-buttons">
                <p>agents</p>
            </div>

        </div>

        <div class="w3-cell-row" id="console">
            <div class="w3-margin">
                <div class="w3-border w3-border-black" style="width: 100%; height: 200px">
                    <p></p>
                </div>
            </div>
        </div>
    </div>
</body>


<script>
    function toggle(ids) {
        ids.forEach(function (id) {
            console.log(id);
            var x = document.getElementById(id);
            if (x.className.indexOf("w3-show") == -1) {
                x.className += " w3-show";
            } else {
                x.className = x.className.replace(" w3-show", "");
            }
        });
    }
</script>
</html>